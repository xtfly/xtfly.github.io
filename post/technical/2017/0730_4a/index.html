<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title>4A技术概览 - 蘭陵N散記</title>
    <meta name="keywords" content="蘭陵N散記,兰陵,独立,博客,程序员,架构师,个人,思考,读书,笔记,技术,分享,Golang">
    
    <meta property="og:title" content="4A技术概览">
    <meta property="og:site_name" content="蘭陵N散記">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content="4A技术概览 - 蘭陵N散記" />
    <meta name="description" content="蘭陵N散記 | 博客 | 软件 | 架构 | Java | Golang"> 
    <link rel="shortcut icon" href="http://lanlingzi.cn/img/favicon.ico" />
    <link rel="apple-touch-icon" href="http://lanlingzi.cn/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="http://lanlingzi.cn/img/apple-touch-icon.png" />
    <link href="http://lanlingzi.cn/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="http://lanlingzi.cn/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="http://lanlingzi.cn/css/main.css" rel="stylesheet" type="text/css" />
    <link href="http://lanlingzi.cn/css/syntax.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="http://lanlingzi.cn/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">蘭陵N散記</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">一指流沙，程序年华</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="http://lanlingzi.cn/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://lanlingzi.cn/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="http://lanlingzi.cn/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于
          </a>
        </li>
      
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger"> <i class="menu-item-icon fa fa-search fa-fw"></i> <br /> 搜索</a>
      </li>
    </ul>
    <div class="site-search">
      <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="http://lanlingzi.cn/post/technical/2017/0730_4a/" itemprop="url">
        4A技术概览
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">时间：</span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="2017-07-30">
    2017-07-30
</time>
</span> 
      

  <span class="post-category" >
  &nbsp; | &nbsp;
  <span class="post-meta-item-icon">
    <i class="fa fa-folder-o"></i>
  </span>
  <span class="post-meta-item-text">分类：</span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="http://lanlingzi.cn/categories/%E6%8A%80%E6%9C%AF" itemprop="url" rel="index">
        <span itemprop="name">技术</span>
      </a>
      &nbsp; 
    </span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="http://lanlingzi.cn/categories/%E7%AC%94%E8%AE%B0" itemprop="url" rel="index">
        <span itemprop="name">笔记</span>
      </a>
      &nbsp; 
    </span>
  
</span>


       <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-eye"></i>
</span>
<span class="post-meta-item-text">阅读：</span>
<span class="leancloud-visitors-count">2995 字 ~6分钟</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    <p><img src="http://lanlingzi.cn/images/y17/4a_security.png" alt="" /></p>

<h2 id="什么是4a">什么是4A</h2>

<p>4A是指：账号Account、认证Authentication、授权Authorization、审计Audit，中文名称为统一安全管理平台解决方案。即将身份认证、授权、审计和账号(即不可否认性及数据完整性)定义为网络安全的四大组成部分，从而确立了身份认证在整个网络安全系统中的地位与作用。(来源百度百科)</p>

<h2 id="账号account">账号Account</h2>

<p>为用户提供统一集中的帐号管理，包括：用户身份信息的集中存储与统一管理。参考AWS等系统，涉及到概念包括：</p>

<ul>
<li>主账号：一般指管理资源的唯一身份标识，他为资源付费。也是自然人在4A中的唯一身份标识，一个用户只会有一个主账号，唯一标识了他的身份。</li>
<li>从账号：一般指资源访问的账号，如虚拟机的访问用户，数据库的访问用户等。</li>
<li>用户：实现操作资源的人员，对应物理存在的人，它由账号分配。</li>
<li>群组：一般对应企业的组织，把用户归属到一个群组里，用户可以自动获得这个群组所具有的权限。对于大型的企业，组织可能分为人员组织与业务组织。对于用户来说，群组也是为提供分级管理能力。</li>
</ul>

<p>用户身份信息，主要包括名称与密码。对于不同的系统，其它信息各不相同，比如互联网中用户信息，一般包括昵称，邮箱，电话，爱好等信息。从账号身份信息，主要包括名称与密码。不同的资源形态身份也不相同，像AWS中，API访问还有AK/SK，虚拟机访问还有SSH证书。</p>

<p>账号与用户的信息身份都是敏感信息，需要完整的安全控制。密码类一般采用密码策略管理，如密码长度，字符限定，过期时间等，密码存储一般采用不可逆加密保存。</p>

<p>目前安全的不可逆加密算法有：<a href="http://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a>，<a href="https://en.wikipedia.org/wiki/Bcrypt">bcrypt</a>。但在一些场景下，由于政策或法规原因，要求可以掌握用户密码，存储也需要加密，但它是可逆的。一般采用非对称加密，采用私钥/公钥对，公钥用于加密密码存储，私钥用于解密，私钥的存储在物理上与系统隔离，以防私钥泄漏。</p>

<h2 id="认证authentication">认证Authentication</h2>

<p>根据用户应用的实际需要，为用户提供不同强度的认证方式。认证的方式一般有以下几种：</p>

<ul>
<li>静态口令：如基于用户与密码；</li>
<li>动态口令令牌：如手机验证码；</li>
<li>数字证书：如早期的银行USB盾，其实USB中存储即发放给用户的PKI（Public Key Infrastructure）证书；</li>
<li>USB令牌：如工商银行的USB盾，USB动态生成令牌。</li>
</ul>

<p>这些认证是可以组合使用的，其中重要说明的PKI，一个有效的PKI系统必须是安全的和透明的，用户在获得加密和数字签名服务时，不需要详细地了解PKI的内部运作机制。</p>

<p>PKI发展的一个重要方面就是标准化问题，它也是建立互操作性的基础。目前，PKI标准化主要有两个方面：一是RSA公司的公钥加密标准PKCS（Public Key Cryptography Standards）,它定义了许多基本PKI部件，包括数字签名和证书请求格式等；二是由Internet工程任务组IETF（Internet Engineering Task Force）和PKI工作组PKIX（Public Key Infrastructure Working Group）所定义的一组具有互操作性的公钥基础设施协议。PKI产品的生产厂家很多，比较有代表性的主要有VeriSign和Entrust。</p>

<p>对于一个复杂的系统、大型网站，他们内部会划分多个子系统。则用户认证需要统一管理，为用户提供统一的认证门户，实现单点登录（Single Sign On，简称SSO）。单点登录与认证服务常见的标准有：</p>

<ul>
<li>CAS：Central Authentication Service，由Yale 大学发起的一个开源项目，是目前最为常见，简单实效的SSO实现。</li>
<li>OpenID：用户在多个网站注册，需要注册并记住多个用户名密码，OpenID希望帮用户提供一个身份ID，可以在多个网站用来登录。登录网站时，用户选择用其身份ID登录，跳转到身份ID颁发的网站输入用户名、密码进行身份认证，然后跳转会网站实现登录。</li>
<li>OAuth：比如用户通过第三方照片打印应用打印在某个网站存储的照片，而不希望泄露照片网站的用户名、密码等信息给第三方的照片打印应用。使用OAuth来授权给第三方应用访问照片资源，也会跳转到照片资源所在网站，要求输入用户名、密码进行身份认证并授权，然后跳转会打印应用网络。注意：OAuth1有安全漏洞，现在都是使用OAuth2协议。</li>
<li>SAML：Security Assertion Markup Language，是一个基于XML的标准，用于在不同的安全域(security domain)之间交换认证和授权数据。</li>
</ul>

<p>后二种也包含授权能力定义，授权先要认证。单系统身份认证，根据使用场景和技术特点，选择OpenID、OAuth、或者SAML。如果不是单系统，不仅涉及身份认证，而是涉及众多系统需要单点登录，则需要选择CAS+认证方案(OpenID/OAuth/SAML)来实现的。其中OAuth2也涵盖了CAS的功能，也可以单点登录(如采用密码模式/客户端模式)。</p>

<p>在非WEB领域，不得不提一下的是GSSAPI（Generic Security Services Application Program Interface），它是提供了程序能够访问安全服务的一个应用程序接口，可用于完成认证。它是一个框架，不负责具体的安全机制。</p>

<h2 id="授权authorization">授权Authorization</h2>

<p>对用户的资源访问权限进行集中控制。授权/鉴权系统中涉及到概念主要有：</p>

<ul>
<li>权限：对资源功能、数据进行访问的范围或程度；</li>
<li>角色：资源中若干访问权限的集合；</li>
<li>角色组：角色构成的集合。</li>
</ul>

<p>授权关系应包括三个元素，授权主体、授权客体、授权关系：</p>

<ul>
<li>授权主体：主帐号、用户，用户群组；</li>
<li>授权客体：角色、角色组、权限以及三者的组合；</li>
<li>授权关系：应任意主体对客体的授权。</li>
</ul>

<p>授权方式常见包括如下：</p>

<ul>
<li>UBAC：Userbased Access Control，基于用户的授权，也有称IBAC，I:identity；</li>
<li>RBAC：Role-based Access Control，基于用户角色的授权；</li>
<li>ABAC：Attribute-based Access Control，基于资源的授权ABAC。</li>
</ul>

<p>前面提到的SAML，其采用访问者、被请求资源、被请求行为和环境属性来描述策略，是一个典型的在ABAC环境下的策略描述语言。如AWS的IAM的策略（Policy）描述，它更加的灵活，可以涵盖UBAC，RBAC与ABAC的功能。策略是用JSON来描述的，主要包含Statement，也就是这个policy拥有的权限的陈述，一言以蔽之，即：<strong>谁</strong>在什么<strong>条件</strong>下能对哪些<strong>资源</strong>的哪些<strong>操作</strong>进行处理。也就是所谓的撰写Policy的<strong>PARCE</strong>原则：</p>

<ul>
<li>Principal：谁；</li>
<li>Action：哪些操作；</li>
<li>Resource：哪些资源；</li>
<li>Condition：什么条件；</li>
<li>Effect：怎么处理（Allow/Deny）。</li>
</ul>

<p>在操作系统，设备系统，数据系统中，权限控制还提供简单的访问控制列表ACL(Access Control List)。ACL的认证鉴权主要分为：</p>

<ul>
<li>登陆认证鉴权：在用户登陆的时候，进行信息认证。根据用户标识，加载上来该用户所拥有的权限模块；</li>
<li>即时认证鉴权：是用户对某一模块或记录是否有增删改查的权限。</li>
</ul>

<h2 id="审计audit">审计Audit</h2>

<p>为了能做到有效的监督，监督各类管理员的日常的管理行为。系统将对管理员的每个操作做出日志记录，并且分类进行整理。提供相关的报表和查询功能。以方便对管理员工作的审计。</p>

<p>审计功能主要实现安全审计功能，包括：</p>

<ul>
<li>用户帐号合法性;</li>
<li>访问行为审计和合规审计。</li>
</ul>

<hr />

<p>参考：<br />
[1] <a href="https://baike.baidu.com/item/4A/1825">统一安全管理平台解决方案</a><br />
[2] <a href="http://blog.csdn.net/liuhuiyi/article/details/7776825">PKI系统深入介绍</a><br />
[3] <a href="http://blog.csdn.net/csethcrm/article/details/20694993">基于SAML的单点登录介绍</a><br />
[4] <a href="https://jingyan.baidu.com/article/60ccbceb47f50764cbb19761.html">cas sso oauth openid saml的联系与区别</a><br />
[5] <a href="http://docs.oracle.com/cd/E24847_01/html/E22200/overview-61.html">GSS-API 介绍</a><br />
[6] <a href="http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html">理解OAuth 2.0</a><br />
[7] <a href="http://www.infoq.com/cn/articles/aws-iam-dive-in">深入了解IAM和访问控制</a></p>
    </div>
    <footer class="post-footer">
     
 
<div class="post-tags">     
     
    <a href="http://lanlingzi.cn/tags/%e5%ae%89%e5%85%a8" rel="tag" title="安全">#安全#</a>
    
</div>



     <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="http://lanlingzi.cn/post/technical/2017/0903_dns/" rel="next" title="[转]DNS扫盲系列">
        <i class="fa fa-chevron-left"></i> [转]DNS扫盲系列
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="http://lanlingzi.cn/post/technical/2017/0715_cloud_design_pattern/" rel="prev" title="云设计模式">
        云设计模式 <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
     
     
     




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

  <ul class="sidebar-nav motion-element">
    <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
      文章目录
    </li>
    <li class="sidebar-nav-overview" data-target="site-overview">
      站点概览
    </li>
  </ul>

    <section class="site-overview sidebar-panel ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="http://lanlingzi.cn/img/author.jpg"
        alt="兰陵子" />
    <p class="site-author-name" itemprop="name">兰陵子</p>
    <p class="site-description motion-element" itemprop="description"> 
        Programmer &amp; Architect</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="http://lanlingzi.cn/post/">
        <span class="site-state-item-count">105</span>
        <span class="site-state-item-name">日志</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="http://lanlingzi.cn/categories/">      
         
        <span class="site-state-item-count">4</span>
        
        <span class="site-state-item-name">分类</span>
        
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="http://lanlingzi.cn/tags/">
         
        <span class="site-state-item-count">56</span>
        
        <span class="site-state-item-name">标签</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://github.com/xtfly/" target="_blank" title="GitHub">
            <i class="fa fa-fw fa-github"></i>
            GitHub
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/lan-ling-xin-yun" target="_blank" title="知乎">
            <i class="fa fa-fw fa-globe"></i>
            知乎
        </a>
        </span>
    
</div>


      

      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=5b4f2ucxar6&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
    <div class="post-toc">
        <div class="post-toc-content"><nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#什么是4a">什么是4A</a></li>
<li><a href="#账号account">账号Account</a></li>
<li><a href="#认证authentication">认证Authentication</a></li>
<li><a href="#授权authorization">授权Authorization</a></li>
<li><a href="#审计audit">审计Audit</a></li>
</ul></li>
</ul>
</nav></div>
    </div>
</section>

  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
  2009 - 2019</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">蘭陵N散記</span>
</div>
<div class="powered-by">
  Powered by - <a class="theme-link" href="http://gohugo.io" target="_blank" title="hugo" >Hugo v0.55.3</a>
</div>
<div class="theme-info">
  Theme by - <a class="theme-link" href="https://github.com/xtfly/hugo-theme-next" target="_blank"> NexT
  </a>
</div>


      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span id="scrollpercent"><span>0</span>%</span>
    </div>
  </div>

  <script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?0b07433b4ab8d587dae7d34e71973839";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
<script type="text/javascript" src="http://tajs.qq.com/stats?sId=58416275" charset="UTF-8"></script> 
<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="http://lanlingzi.cn/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="http://lanlingzi.cn/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="http://lanlingzi.cn/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="http://lanlingzi.cn/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="http://lanlingzi.cn/js/utils.js"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/motion.js"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/affix.js"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/schemes/pisces.js"></script>

<script type="text/javascript" src="http://lanlingzi.cn/js/scrollspy.js"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/post-details.js"></script>
<script type="text/javascript" src="http://lanlingzi.cn/js/toc.js"></script>

<script type="text/javascript" src="http://lanlingzi.cn/js/bootstrap.js"></script>

<script type="text/javascript" src="http://lanlingzi.cn/js/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
</body>
</html>